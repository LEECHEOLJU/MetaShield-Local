# 🧪 MetaShield 기능 가이드

> MetaShield의 모든 기능에 대한 완전한 사용 가이드 및 기술 문서

---

## 📋 목차

### 🔬 AI 실험실 기능
1. [고급 IOC 분석기](#1-고급-ioc-분석기)
2. [YARA 룰 생성기](#2-yara-룰-생성기)
3. [멀웨어 정적 분석기](#3-멀웨어-정적-분석기)
4. [위협 헌팅 쿼리 생성기](#4-위협-헌팅-쿼리-생성기)

### 🚀 신규 AI 실험실 기능
5. [AI 실시간 로그 스토리텔링](#5-ai-실시간-로그-스토리텔링)
6. [AI 자연어 보안정책 생성기](#6-ai-자연어-보안정책-생성기)
7. [AI 보안 시나리오 시뮬레이터](#7-ai-보안-시나리오-시뮬레이터)

### 📊 기본 기능
8. [AI 보안 분석](#8-ai-보안-분석)
9. [CVE 취약점 검색](#9-cve-취약점-검색)
10. [패턴 분석 저장소](#10-패턴-분석-저장소)

---

## 🔬 AI 실험실 기능

### 1. 고급 IOC 분석기

#### 📁 기본 정보
- **파일**: `advanced_ioc_analyzer.py` (400+ 라인)
- **상태**: ✅ 완성 (95% 정확도 달성)
- **기능**: AI와 정규식을 결합한 하이브리드 IOC 추출

#### 🎯 주요 기능
- **하이브리드 IOC 추출** (95% 정확도)
  - 정규식 기반 1차 추출: IP, 도메인, URL, 해시, 이메일 등 9개 타입
  - AI 기반 품질 점수: 0-100점 신뢰도 평가
  - 중복 제거 및 유효성 검증

- **위협 인텔리전스 연동**
  - VirusTotal API: 파일 해시, URL, 도메인 평판 조회
  - AbuseIPDB API: IP 주소 악성 여부 확인
  - 실시간 위협 점수 표시

- **결과 시각화**
  - IOC 타입별 색상 구분
  - 위협 점수 기반 정렬
  - 상세 정보 툴팁 제공

#### 📱 사용방법
1. **실험실** → **🔬 고급 IOC 분석** 선택
2. 분석할 텍스트 데이터 입력 (로그, 이메일, 보고서 등)
3. **"IOC 추출"** 버튼 클릭
4. 결과 테이블에서 IOC 타입별 확인
5. **"위협 인텔리전스 조회"** 버튼으로 평판 확인

### 2. YARA 룰 생성기

#### 📁 기본 정보
- **파일**: `yara_rule_generator.py` (350+ 라인)
- **상태**: ✅ 완성 (룰 테스트 기능 포함)
- **기능**: 악성코드 샘플 기반 자동 YARA 탐지 룰 생성

#### 🎯 주요 기능
- **바이너리 분석**
  - 파일 엔트로피 계산: 패킹/암호화 탐지
  - PE 헤더 분석: 컴파일 시간, 섹션 정보
  - 문자열 패턴 추출: 의심스러운 API, 레지스트리 키

- **YARA 룰 자동 생성**
  - 메타 정보: 생성 날짜, 분석자, 파일 해시
  - 문자열 조건: 특징적인 바이너리 패턴
  - 조건부 로직: 파일 크기, 엔트로피, PE 속성 조합

- **룰 테스트 기능** (신규)
  - 실제 파일 선택 및 테스트
  - 패턴 매칭 시뮬레이션
  - 테스트 결과 시각화

#### 📱 사용방법
1. **실험실** → **🛡️ YARA 룰 생성** 선택
2. **"파일 선택"** 버튼으로 악성코드 샘플 업로드
3. **"YARA 룰 생성"** 버튼 클릭
4. 생성된 룰 검토 및 편집
5. **"룰 테스트"** 버튼으로 다른 파일에 적용 테스트

### 3. 멀웨어 정적 분석기

#### 📁 기본 정보
- **파일**: `malware_static_analyzer.py` (450+ 라인)
- **상태**: ✅ 완성 (ELF 분석 강화)
- **기능**: PE/ELF 바이너리 정적 분석 및 0-100점 위험도 평가

#### 🎯 주요 기능
- **바이너리 형식 분석**
  - PE 파일: Windows 실행 파일 분석
  - ELF 파일: Linux 바이너리 분석 (강화)
  - 파일 헤더 검증 및 구조 분석

- **위험도 평가 시스템** (0-100점)
  - 엔트로피 분석: 패킹/난독화 탐지 (30점)
  - API 호출 분석: 악성 행위 API 탐지 (25점)
  - 문자열 분석: 의심스러운 키워드 (20점)
  - 구조적 이상: PE 헤더 비정상 (25점)

- **상세 정보 추출**
  - 컴파일 시간, 링커 버전, 섹션 정보
  - 임포트/익스포트 함수 목록
  - 리소스 정보 및 버전 정보
  - 디지털 서명 검증

#### 📱 사용방법
1. **실험실** → **🦠 멀웨어 정적 분석** 선택
2. 파일을 드래그 앤 드롭 또는 **"파일 선택"**
3. **"분석 시작"** 버튼 클릭
4. 위험도 점수 및 상세 분석 결과 확인
5. **"보고서 생성"** 버튼으로 상세 리포트 출력

### 4. 위협 헌팅 쿼리 생성기

#### 📁 기본 정보
- **파일**: `threat_hunting_query_generator.py` (400+ 라인)
- **상태**: ✅ 완성 (AI 연동 강화)
- **기능**: 다중 플랫폼 위협 헌팅 쿼리 자동 생성

#### 🎯 주요 기능
- **다중 플랫폼 지원**
  - Splunk SPL: 엔터프라이즈 SIEM 쿼리
  - ELK/Elasticsearch: 오픈소스 로그 분석
  - Sigma Rules: 플랫폼 독립적 탐지 룰
  - Sentinel KQL: Microsoft Sentinel 쿼리 (신규)

- **MITRE ATT&CK 매핑**
  - 공격 기법별 쿼리 템플릿
  - 전술(Tactic) 및 기법(Technique) 분류
  - 관련 IOC 자동 매핑

- **AI 쿼리 추천** (강화)
  - 실제 Azure OpenAI API 호출
  - IOC 컨텍스트 기반 쿼리 생성
  - AI 실패시 템플릿 폴백

#### 📱 사용방법
1. **실험실** → **🎯 위협 헌팅 쿼리** 선택
2. IOC 또는 위협 정보 입력
3. 플랫폼 선택 (Splunk/ELK/Sigma/Sentinel)
4. **"쿼리 생성"** 또는 **"AI 추천"** 버튼 클릭
5. 생성된 쿼리 복사 및 SIEM에서 실행

---

## 🚀 신규 AI 실험실 기능

### 5. AI 실시간 로그 스토리텔링

#### 📖 개요
보안 로그를 AI가 분석하여 이해하기 쉬운 스토리로 변환하는 기능입니다. 복잡한 로그 데이터를 시간순으로 정리하고 위협의 전체적인 흐름을 파악할 수 있습니다.

#### 🎯 주요 기능
- **다중 로그 포맷 지원**: Syslog, Windows Event, Apache/Nginx, Firewall 로그 등
- **AI 패턴 분석**: 로그 간 상관관계 자동 분석
- **타임라인 스토리 생성**: 시간 순서대로 이벤트 재구성
- **위협 레벨 분류**: 위험도별 색상 코딩 및 우선순위

#### 📱 사용방법
1. **실험실** → **📖 AI 로그 스토리텔링** 선택
2. 로그 데이터 입력 (직접 입력/파일 업로드/실시간 모니터링)
3. 분석 설정 (시간 범위, 로그 타입, 중요도 필터)
4. **"스토리 생성"** 버튼 클릭
5. 타임라인 형태로 정리된 스토리 확인

### 6. AI 자연어 보안정책 생성기

#### 📝 개요
자연어로 작성된 보안 요구사항을 체계적인 보안정책 문서로 자동 변환하는 기능입니다.

#### 🎯 주요 기능
- **자연어 입력 처리**: 일반적인 한국어/영어 요구사항 이해
- **정책 템플릿 자동 선택**: 접근제어, 암호화, 모니터링 등
- **규제 컴플라이언스 매핑**: ISMS-P, ISO27001, PCI-DSS 등
- **다양한 형식 출력**: Word, PDF, Markdown, HTML

#### 📱 사용방법
1. **실험실** → **📝 AI 보안정책 생성** 선택
2. 보안 요구사항을 자연어로 입력
3. 적용 범위 및 규제 기준 선택
4. **"정책 생성"** 버튼 클릭
5. 생성된 정책 문서 검토 및 다운로드

### 7. AI 보안 시나리오 시뮬레이터

#### 🎯 개요
가상의 보안 시나리오를 시뮬레이션하여 대응 능력을 향상시키는 훈련 도구입니다.

#### 🎯 주요 기능
- **MITRE ATT&CK 기반 시나리오**: 실제 공격 기법 기반
- **단계별 공격 시뮬레이션**: 초기 침입부터 목표 달성까지
- **대응 방안 평가**: 사용자 대응의 적절성 평가
- **훈련 효과 측정**: 학습 진도 및 개선점 추적

#### 📱 사용방법
1. **실험실** → **🎯 AI 보안시나리오 시뮬레이터** 선택
2. 시나리오 유형 선택 (랜섬웨어, APT, 내부자 위협 등)
3. 환경 설정 (네트워크 구성, 보안 솔루션 등)
4. **"시뮬레이션 시작"** 버튼 클릭
5. 단계별 상황에 대한 대응 선택 및 결과 확인


---

## 📊 기본 기능

### 9. AI 보안 분석

#### 🧠 개요
Azure OpenAI GPT-4를 활용한 고도화된 보안 이벤트 자동 분석 기능입니다.

#### 🎯 주요 기능
- **페이로드 분석**: 악성 코드, 로그, 네트워크 트래픽 분석
- **IOC 자동 추출**: IP, 도메인, URL, 파일 해시 자동 식별
- **위협 인텔리전스 조회**: VirusTotal, AbuseIPDB 연동
- **한국어 보안 분석 보고서**: 실무진이 바로 사용 가능한 형태

### 10. CVE 취약점 검색

#### 🔍 개요
NVD(National Vulnerability Database) API를 연동한 실시간 취약점 정보 검색 시스템입니다.

#### 🎯 주요 기능
- **다중 CVE 검색**: 여러 CVE를 한 번에 조회
- **CVSS 점수 분석**: 심각도별 분류 및 시각화
- **로컬 캐싱**: 조회된 정보 자동 저장으로 빠른 재검색
- **Excel/CSV 내보내기**: 분석 결과 문서화

### 11. 패턴 분석 저장소

#### 📚 개요
보안 탐지 패턴 및 분석 템플릿을 체계적으로 관리하는 지식 베이스입니다.

#### 🎯 주요 기능
- **탐지 패턴 관리**: 보안 이벤트별 분석 템플릿 저장
- **AI 초안 생성**: Azure OpenAI를 활용한 분석 보고서 자동 생성
- **JIRA 연동**: 회사 보안 시스템에서 이벤트 자동 가져오기
- **검색 및 분류**: 즐겨찾기, 별점, 카테고리별 관리

---

## 🚀 시작하기

### 📋 접속 방법
1. MetaShield 애플리케이션 실행
2. 상단 네비게이션에서 원하는 대분류 선택
   - **보안분석**: AI 분석, CVE 검색, 패턴 저장소
   - **실험실**: 고급 AI 분석 도구들
   - **관제 고객사**: 기업별 대시보드 (예정)
3. 좌측 사이드바에서 세부 기능 선택
4. 각 기능별 가이드에 따라 사용

### ⚙️ 초기 설정
1. **config.py** 파일에서 API 키 설정
2. **.env** 파일에 환경변수 구성
3. 데이터베이스 초기화 (자동)
4. 네트워크 연결 확인

---

**최종 업데이트**: 2025-08-28  
**기능 상태**: ✅ 모든 실험실 기능 완성 (11개 기능 100% 구현)  
**지원 언어**: 한국어, English